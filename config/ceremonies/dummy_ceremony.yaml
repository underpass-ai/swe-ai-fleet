# Dummy Ceremony - Minimal example for testing
# This ceremony serves as a minimal working example to validate the DSL parser
#
# Purpose: Test the ceremony engine with a simple, deterministic ceremony
# that can be executed end-to-end to verify the framework works correctly.

version: "1.0"
name: "dummy_ceremony"
description: "Minimal example ceremony for testing"

inputs:
  required:
    - input_data
  optional: []

outputs:
  result:
    type: object
    schema:
      status: string
      value: string

states:
  - id: STARTED
    description: "Ceremony started"
    initial: true
    terminal: false
  - id: PROCESSED
    description: "Processing complete"
    initial: false
    terminal: true

transitions:
  - from: STARTED
    to: PROCESSED
    trigger: process_complete
    guards: []
    description: "Processing finished"

steps:
  - id: process_data
    state: STARTED
    handler: aggregation_step
    config:
      operation: echo
      input_fields: [input_data]
      output_field: result
    timeout_seconds: 60

guards: {}

roles:
  - id: SYSTEM
    description: "System/automated"
    allowed_actions:
      - process_data

timeouts:
  step_default: 60
  step_max: 3600
  ceremony_max: 86400

retry_policies:
  default:
    max_attempts: 3
    backoff_seconds: 5
    exponential_backoff: true
